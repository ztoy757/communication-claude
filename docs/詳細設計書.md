本好きのためのSNS 詳細設計書
1. モノリスWebアプリケーション モジュール構成 (Module Structure for Monolithic Web Application)
本SNSアプリケーションは、Mavenによるマルチモジュール構成を採用し、単一のモノリスとしてデプロイされます。これにより、関心の分離、コードの再利用性向上、モジュールごとの独立した開発・テストを可能にします。

book-lover-sns/
├── pom.xml                  (親POM)
├── common/                  (共通ユーティリティ、例外、定数など)
│   └── pom.xml
├── domain/                  (エンティティ、VO、リポジトリインターフェースなどドメインモデル)
│   └── pom.xml
├── security/                (認証・認可に関するモジュール)
│   └── pom.xml
├── user-management/         (ユーザー管理関連の機能)
│   └── pom.xml
├── book-reading/            (読書記録、レビュー投稿関連の機能)
│   └── pom.xml
├── communication/           (フィード、コメント、グループ、DM関連の機能)
│   └── pom.xml
├── discovery/               (本の発見、レコメンド、本棚関連の機能)
│   └── pom.xml
├── api-gateway/             (APIコントローラ層、フロントエンドからのリクエスト受け付け)
│   └── pom.xml
└── app/                     (メインアプリケーション、全モジュールの統合・起動)
    └── pom.xml

各モジュールの役割:

common: アプリケーション全体で共通して利用されるユーティリティクラス、カスタム例外、定数、共通データ型などを配置。

domain: ドメインモデル（JPAエンティティ、値オブジェクト、集約ルートなど）、リポジトリインターフェース（データアクセスの抽象化）を定義。ビジネスロジックの中核となる。

security: Spring Securityの設定、認証プロバイダ、ユーザー詳細サービス、認可ルールなど、セキュリティ関連のロジックを集約。

user-management: ユーザー登録、ログイン、プロフィール管理、アカウント設定などのビジネスロジックとサービス。

book-reading: 書籍の登録、読書状況の更新、レビュー投稿、読書メーター集計などのビジネスロジックとサービス。

communication: フィードの生成、コメント投稿、リアクション、フォロー/アンフォロー、グループ管理、DM送受信などのビジネスロジックとサービス。

discovery: パーソナライズされたレコメンド、本棚の管理、今日の一冊の選定、書籍検索などのビジネスロジックとサービス。

api-gateway: REST APIのエンドポイントを定義するSpring MVCコントローラ層。各機能モジュールのサービス層を呼び出し、HTTPリクエストとレスポンスの変換を行う。

app: Spring Bootアプリケーションのメインエントリポイント。全モジュールの依存関係を集約し、アプリケーションを起動する。プロパティ設定やグローバルなコンポーネント設定もここで行う。

2. バックエンド API 仕様 (OpenAPI/Swagger YAML)
主要な機能に関するREST APIのエンドポイントをOpenAPI 3.0.0形式で定義します。認証が必要なエンドポイントにはJWT認証を想定します。

openapi: 3.0.0
info:
  title: Book Lover SNS API
  version: 1.0.0
  description: 本好きのためのSNSのバックエンドAPI仕様書

servers:
  - url: http://localhost:8080/api
    description: Local development server

security:
  - bearerAuth: []

tags:
  - name: Auth
    description: 認証関連API
  - name: Users
    description: ユーザー関連API
  - name: Books
    description: 書籍情報関連API
  - name: ReadingStatus
    description: 読書状況関連API
  - name: Reviews
    description: レビュー関連API
  - name: Shelves
    description: 本棚関連API
  - name: Feed
    description: フィード関連API
  - name: Groups
    description: グループ関連API
  - name: Events
    description: イベント関連API
  - name: DirectMessages
    description: ダイレクトメッセージ関連API

paths:
  /auth/register:
    post:
      tags:
        - Auth
      summary: ユーザー登録
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '200':
          description: 登録成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          description: 無効なリクエスト
        '409':
          description: メールアドレスが既に使用されています
  
  /auth/login:
    post:
      tags:
        - Auth
      summary: ユーザーログイン
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: ログイン成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          description: 認証失敗

  /users/{userId}:
    get:
      tags:
        - Users
      summary: 特定ユーザーのプロフィール取得
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: ユーザーID
      responses:
        '200':
          description: ユーザープロフィール
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '404':
          description: ユーザーが見つかりません

    put:
      tags:
        - Users
      summary: ユーザープロフィール更新
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: ユーザーID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserProfileUpdateRequest'
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: 無効なリクエスト
        '403':
          description: アクセス拒否

  /users/{userId}/follow:
    post:
      tags:
        - Users
      summary: ユーザーをフォローする
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: フォローするユーザーのID
      responses:
        '200':
          description: フォロー成功
        '400':
          description: 無効なリクエスト（自分自身をフォローできないなど）
        '404':
          description: ユーザーが見つかりません

  /users/{userId}/unfollow:
    post:
      tags:
        - Users
      summary: ユーザーのフォローを解除する
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: フォロー解除するユーザーのID
      responses:
        '200':
          description: フォロー解除成功
        '404':
          description: ユーザーが見つかりません

  /books:
    get:
      tags:
        - Books
      summary: 書籍を検索
      parameters:
        - name: query
          in: query
          schema:
            type: string
          description: 書籍名、著者名、ISBNなどで検索
        - name: limit
          in: query
          schema:
            type: integer
            format: int32
            default: 10
        - name: offset
          in: query
          schema:
            type: integer
            format: int32
            default: 0
      responses:
        '200':
          description: 書籍検索結果
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Book'
    post:
      tags:
        - Books
      summary: 新しい書籍を登録する（外部APIから取得できない場合など）
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookCreateRequest'
      responses:
        '201':
          description: 書籍登録成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Book'
        '400':
          description: 無効なリクエスト

  /books/{bookId}:
    get:
      tags:
        - Books
      summary: 特定の書籍情報を取得
      parameters:
        - name: bookId
          in: path
          required: true
          schema:
            type: string
          description: 書籍ID
      responses:
        '200':
          description: 書籍情報
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Book'
        '404':
          description: 書籍が見つかりません

  /books/today:
    get:
      tags:
        - Books
      summary: 今日のあなたへのおすすめ書籍を取得
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 今日の書籍情報
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Book'
        '404':
          description: おすすめの書籍が見つかりません

  /users/{userId}/reading-status:
    get:
      tags:
        - ReadingStatus
      summary: ユーザーの読書状況リストを取得
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: ユーザーID
        - name: status
          in: query
          schema:
            type: string
            enum: [WANT_TO_READ, READING, FINISHED, STACKED]
          description: 読書ステータスでフィルタリング
      responses:
        '200':
          description: 読書状況リスト
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BookReadingStatus'
    post:
      tags:
        - ReadingStatus
      summary: 書籍の読書状況を登録・更新
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: ユーザーID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookReadingStatusRequest'
      responses:
        '200':
          description: 読書状況更新成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BookReadingStatus'
        '201':
          description: 読書状況新規登録成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BookReadingStatus'
        '400':
          description: 無効なリクエスト
        '404':
          description: ユーザーまたは書籍が見つかりません

  /books/{bookId}/reviews:
    get:
      tags:
        - Reviews
      summary: 特定の書籍のレビューリストを取得
      parameters:
        - name: bookId
          in: path
          required: true
          schema:
            type: string
          description: 書籍ID
        - name: limit
          in: query
          schema:
            type: integer
            format: int32
            default: 10
        - name: offset
          in: query
          schema:
            type: integer
            format: int32
            default: 0
      responses:
        '200':
          description: レビューリスト
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Review'
    post:
      tags:
        - Reviews
      summary: 特定の書籍にレビューを投稿
      security:
        - bearerAuth: []
      parameters:
        - name: bookId
          in: path
          required: true
          schema:
            type: string
          description: 書籍ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReviewCreateRequest'
      responses:
        '201':
          description: レビュー投稿成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
        '400':
          description: 無効なリクエスト
        '404':
          description: 書籍が見つかりません

  /reviews/{reviewId}/comments:
    get:
      tags:
        - Reviews
      summary: レビューへのコメントリストを取得
      parameters:
        - name: reviewId
          in: path
          required: true
          schema:
            type: string
          description: レビューID
      responses:
        '200':
          description: コメントリスト
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Comment'
    post:
      tags:
        - Reviews
      summary: レビューにコメントを投稿
      security:
        - bearerAuth: []
      parameters:
        - name: reviewId
          in: path
          required: true
          schema:
            type: string
          description: レビューID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentCreateRequest'
      responses:
        '201':
          description: コメント投稿成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        '400':
          description: 無効なリクエスト
        '404':
          description: レビューが見つかりません

  /reviews/{reviewId}/reactions:
    post:
      tags:
        - Reviews
      summary: レビューにリアクションする
      security:
        - bearerAuth: []
      parameters:
        - name: reviewId
          in: path
          required: true
          schema:
            type: string
          description: レビューID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReactionCreateRequest'
      responses:
        '200':
          description: リアクション成功
        '400':
          description: 無効なリアクションタイプ
        '404':
          description: レビューが見つかりません

  /users/{userId}/shelves:
    get:
      tags:
        - Shelves
      summary: ユーザーの本棚リストを取得
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: ユーザーID
      responses:
        '200':
          description: 本棚リスト
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Shelf'
    post:
      tags:
        - Shelves
      summary: 新しい本棚を作成
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
          description: ユーザーID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShelfCreateRequest'
      responses:
        '201':
          description: 本棚作成成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Shelf'
        '400':
          description: 無効なリクエスト

  /shelves/{shelfId}/items:
    get:
      tags:
        - Shelves
      summary: 特定の本棚の書籍アイテムを取得
      parameters:
        - name: shelfId
          in: path
          required: true
          schema:
            type: string
          description: 本棚ID
      responses:
        '200':
          description: 本棚アイテムリスト
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ShelfItem'
    post:
      tags:
        - Shelves
      summary: 本棚に書籍を追加
      security:
        - bearerAuth: []
      parameters:
        - name: shelfId
          in: path
          required: true
          schema:
            type: string
          description: 本棚ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShelfItemCreateRequest'
      responses:
        '201':
          description: 書籍追加成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShelfItem'
        '400':
          description: 無効なリクエスト
        '404':
          description: 本棚または書籍が見つかりません

  /feed:
    get:
      tags:
        - Feed
      summary: ユーザーのフィードを取得 (フォロー中のユーザーの活動、おすすめ投稿など)
      security:
        - bearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            format: int32
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            format: int32
            default: 0
      responses:
        '200':
          description: フィード投稿リスト
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FeedPost'

  # 以下、グループ、イベント、DMなどのAPIは同様に定義
  # 例: /groups, /groups/{groupId}, /groups/{groupId}/members, /events, /events/{eventId}, /direct-messages, /direct-messages/{dmId}

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    # --- Auth Schemas ---
    RegisterRequest:
      type: object
      required:
        - username
        - email
        - password
      properties:
        username:
          type: string
          example: 'booklover_taro'
        email:
          type: string
          format: email
          example: 'taro@example.com'
        password:
          type: string
          format: password
          example: 'securePassword123'
    
    LoginRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
          example: 'taro@example.com'
        password:
          type: string
          format: password
          example: 'securePassword123'

    AuthResponse:
      type: object
      properties:
        token:
          type: string
          description: JWTトークン
          example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
        userId:
          type: string
          example: 'user123'
        username:
          type: string
          example: 'booklover_taro'

    # --- User Schemas ---
    User:
      type: object
      properties:
        userId:
          type: string
          example: 'user123'
        username:
          type: string
          example: 'booklover_taro'
        email:
          type: string
          format: email
          readOnly: true
          example: 'taro@example.com'
        profileBio:
          type: string
          nullable: true
          example: 'SFとミステリーをこよなく愛する読書家です。'
        avatarUrl:
          type: string
          format: url
          nullable: true
          example: 'https://example.com/avatar/user123.jpg'
        preferredGenres:
          type: array
          items:
            type: string
          example: ['SF', 'ミステリー', 'ファンタジー']
        readingLevel:
          type: string
          enum: [BEGINNER, INTERMEDIATE, ADVANCED]
          example: 'ADVANCED'
        readingStyle:
          type: string
          example: '多読派'
        isPublicProfile:
          type: boolean
          example: true
        createdAt:
          type: string
          format: date-time
          example: '2023-01-01T10:00:00Z'
        lastLoginAt:
          type: string
          format: date-time
          example: '2023-06-27T18:30:00Z'

    UserProfileUpdateRequest:
      type: object
      properties:
        username:
          type: string
        profileBio:
          type: string
          nullable: true
        avatarUrl:
          type: string
          format: url
          nullable: true
        preferredGenres:
          type: array
          items:
            type: string
        readingLevel:
          type: string
          enum: [BEGINNER, INTERMEDIATE, ADVANCED]
        readingStyle:
          type: string
        isPublicProfile:
          type: boolean

    # --- Book Schemas ---
    Book:
      type: object
      properties:
        bookId:
          type: string
          example: '978-4-06-123456-7'
        title:
          type: string
          example: '銀河鉄道の夜'
        author:
          type: string
          example: '宮沢賢治'
        publisher:
          type: string
          example: '新潮社'
        publicationYear:
          type: integer
          example: 1927
        synopsis:
          type: string
          example: 'ジョバンニが銀河鉄道に乗って旅をする幻想的な物語。'
        coverImageUrl:
          type: string
          format: url
          example: 'https://placehold.co/128x192/E0E0E0/333333?text=Cover'
        genre:
          type: string
          example: '幻想文学'
        createdAt:
          type: string
          format: date-time
          example: '2023-01-05T15:00:00Z'

    BookCreateRequest:
      type: object
      required:
        - title
        - author
      properties:
        bookId:
          type: string
          description: ISBNなどがあれば指定
          nullable: true
          example: '978-4-06-123456-7'
        title:
          type: string
          example: '銀河鉄道の夜'
        author:
          type: string
          example: '宮沢賢治'
        publisher:
          type: string
          nullable: true
          example: '新潮社'
        publicationYear:
          type: integer
          nullable: true
          example: 1927
        synopsis:
          type: string
          nullable: true
          example: 'ジョバンニが銀河鉄道に乗って旅をする幻想的な物語。'
        coverImageUrl:
          type: string
          format: url
          nullable: true
          example: 'https://placehold.co/128x192/E0E0E0/333333?text=Cover'
        genre:
          type: string
          nullable: true
          example: '幻想文学'

    # --- ReadingStatus Schemas ---
    BookReadingStatus:
      type: object
      properties:
        statusId:
          type: string
          example: 'status_abc'
        userId:
          type: string
          example: 'user123'
        bookId:
          type: string
          example: '978-4-06-123456-7'
        status:
          type: string
          enum: [WANT_TO_READ, READING, FINISHED, STACKED]
          example: 'READING'
        currentPage:
          type: integer
          nullable: true
          example: 120
        startDate:
          type: string
          format: date
          nullable: true
          example: '2023-06-01'
        finishDate:
          type: string
          format: date
          nullable: true
          example: '2023-06-25'
        readingTimeMinutes:
          type: integer
          nullable: true
          example: 720
        moodAtFinish:
          type: string
          nullable: true
          example: '感動した'
        createdAt:
          type: string
          format: date-time
          example: '2023-06-01T10:00:00Z'
        updatedAt:
          type: string
          format: date-time
          example: '2023-06-20T14:00:00Z'
      
    BookReadingStatusRequest:
      type: object
      required:
        - bookId
        - status
      properties:
        bookId:
          type: string
          example: '978-4-06-123456-7'
        status:
          type: string
          enum: [WANT_TO_READ, READING, FINISHED, STACKED]
          example: 'READING'
        currentPage:
          type: integer
          nullable: true
          example: 120
        startDate:
          type: string
          format: date
          nullable: true
          example: '2023-06-01'
        finishDate:
          type: string
          format: date
          nullable: true
          example: '2023-06-25'
        readingTimeMinutes:
          type: integer
          nullable: true
          example: 720
        moodAtFinish:
          type: string
          nullable: true
          example: '感動した'

    # --- Review Schemas ---
    Review:
      type: object
      properties:
        reviewId:
          type: string
          example: 'review_xyz'
        userId:
          type: string
          example: 'user123'
        bookId:
          type: string
          example: '978-4-06-123456-7'
        rating:
          type: integer
          minimum: 1
          maximum: 5
          example: 5
        reviewText:
          type: string
          example: 'この本は本当に心を揺さぶられました。登場人物の心理描写が素晴らしい。'
        hasSpoiler:
          type: boolean
          example: false
        postedAt:
          type: string
          format: date-time
          example: '2023-06-26T09:30:00Z'
        imageUrl:
          type: string
          format: url
          nullable: true
          example: 'https://example.com/review_img/review_xyz.jpg'
        user:
          $ref: '#/components/schemas/User' # レビューにユーザー情報を含める場合
        book:
          $ref: '#/components/schemas/Book' # レビューに書籍情報を含める場合

    ReviewCreateRequest:
      type: object
      required:
        - rating
        - reviewText
      properties:
        rating:
          type: integer
          minimum: 1
          maximum: 5
          example: 5
        reviewText:
          type: string
          example: 'この本は本当に心を揺さぶられました。登場人物の心理描写が素晴らしい。'
        hasSpoiler:
          type: boolean
          example: false
        imageUrl:
          type: string
          format: url
          nullable: true

    # --- Comment Schemas ---
    Comment:
      type: object
      properties:
        commentId:
          type: string
          example: 'comment_123'
        userId:
          type: string
          example: 'user456'
        targetType:
          type: string
          enum: [REVIEW, FEED_POST]
          example: 'REVIEW'
        targetId:
          type: string
          example: 'review_xyz'
        commentText:
          type: string
          example: '私も同じ気持ちです！特にあのシーンが印象的でした。'
        commentedAt:
          type: string
          format: date-time
          example: '2023-06-26T10:00:00Z'
        user:
          $ref: '#/components/schemas/User'

    CommentCreateRequest:
      type: object
      required:
        - commentText
      properties:
        commentText:
          type: string
          example: '私も同じ気持ちです！特にあのシーンが印象的でした。'

    # --- Reaction Schemas ---
    Reaction:
      type: object
      properties:
        reactionId:
          type: string
          example: 'reaction_1'
        userId:
          type: string
          example: 'user789'
        targetType:
          type: string
          enum: [REVIEW, FEED_POST, COMMENT]
          example: 'REVIEW'
        targetId:
          type: string
          example: 'review_xyz'
        reactionType:
          type: string
          enum: [LIKE, CRY, DEEP, WANT_TO_READ_EMOJI] # WANT_TO_READ_EMOJIは例
          example: 'LIKE'
        reactedAt:
          type: string
          format: date-time
          example: '2023-06-26T10:05:00Z'

    ReactionCreateRequest:
      type: object
      required:
        - reactionType
      properties:
        reactionType:
          type: string
          enum: [LIKE, CRY, DEEP, WANT_TO_READ_EMOJI]
          example: 'LIKE'

    # --- Shelf Schemas ---
    Shelf:
      type: object
      properties:
        shelfId:
          type: string
          example: 'shelf_fantasy'
        userId:
          type: string
          example: 'user123'
        shelfName:
          type: string
          example: '私のファンタジー傑作選'
        description:
          type: string
          nullable: true
          example: '何度も読み返したくなる、心温まるファンタジーを集めました。'
        isPublic:
          type: boolean
          example: true
        createdAt:
          type: string
          format: date-time
          example: '2023-05-01T11:00:00Z'
        bookCount:
          type: integer
          example: 5

    ShelfCreateRequest:
      type: object
      required:
        - shelfName
        - isPublic
      properties:
        shelfName:
          type: string
          example: '私のファンタジー傑作選'
        description:
          type: string
          nullable: true
        isPublic:
          type: boolean
          example: true

    ShelfItem:
      type: object
      properties:
        itemId:
          type: string
          example: 'shelf_item_001'
        shelfId:
          type: string
          example: 'shelf_fantasy'
        bookId:
          type: string
          example: '978-4-06-123456-7'
        addedAt:
          type: string
          format: date-time
          example: '2023-05-01T11:30:00Z'
        book:
          $ref: '#/components/schemas/Book' # 本棚アイテムに書籍情報を含める場合

    ShelfItemCreateRequest:
      type: object
      required:
        - bookId
      properties:
        bookId:
          type: string
          example: '978-4-06-123456-7'

    # --- Feed Schemas ---
    FeedPost:
      type: object
      properties:
        postId:
          type: string
          example: 'post_feed_001'
        userId:
          type: string
          example: 'user123'
        user:
          $ref: '#/components/schemas/User'
        postType:
          type: string
          enum: [REVIEW, BOOK_START, BOOK_FINISH, QUOTE, RECOMMENDATION] # RECOMMENDATIONはシステムからの投稿
          example: 'REVIEW'
        relatedBookId:
          type: string
          nullable: true
          example: '978-4-06-123456-7'
        relatedBook:
          $ref: '#/components/schemas/Book' # 関連書籍情報
        postText:
          type: string
          nullable: true
          example: '新しく「銀河鉄道の夜」を読み始めました！'
        imageUrl:
          type: string
          format: url
          nullable: true
          example: 'https://example.com/post_img/post_001.jpg'
        postedAt:
          type: string
          format: date-time
          example: '2023-06-27T19:00:00Z'
        commentCount:
          type: integer
          example: 3
        reactionCount:
          type: integer
          example: 15
        # 投稿タイプに応じて、関連する情報を含める
        review:
          $ref: '#/components/schemas/Review' # postTypeがREVIEWの場合
        # quote: # postTypeがQUOTEの場合、引用内容など

